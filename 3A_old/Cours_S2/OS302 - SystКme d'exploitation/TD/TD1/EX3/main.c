#include <sys/types.h>
#include <unistd.h>
#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>

#define RED    "\033[0;31m"
#define BLUE   "\033[0;34m"
#define GREEN  "\033[0;32m"
#define YELLOW "\033[0;33m"
#define NC     "\033[0m"


int main (void) {
	
	pid_t pid;
	int i;

	i=1;
	while( (pid=fork())>0 && i<10 ) i++;	

	if (pid == -1) {
		perror("Creation de processus");
		exit(2);
	}
	else if (pid == 0) {
		printf(NC "Je suis le" BLUE "fils " NC "numÃ©ro " YELLOW "%d" NC".  PID*2 = "GREEN "%d\n" NC "", i, getpid()*2);
	}
	else {
		printf( RED "PARENT TERMINATED.\n" NC );
	}


	exit(0);
}
