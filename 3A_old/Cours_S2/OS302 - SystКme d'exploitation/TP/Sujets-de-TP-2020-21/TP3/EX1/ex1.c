#include <sys/types.h>
#include <unistd.h>
#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>
#include <assert.h>

#define RED    "\033[0;31m"
#define BLUE   "\033[0;34m"
#define GREEN  "\033[0;32m"
#define YELLOW "\033[0;33m"
#define NC     "\033[0m"


int main (int argc, char *argv[]) {
	
	pid_t pid;
	int fd[2];	
	pipe(fd);
	
	assert(argc==3);


	if ((pid=fork())>0) { /*pere*/
		/* Attente de l'execution de cmd 1*/
		waitpid(pid,NULL,0);
		
		close(fd[1]);
		dup2 (fd[0], STDIN_FILENO);
		system(argv[2]);
		
	}
	else if (pid == 0)/*fils 1*/
	{
		close(fd[0]);
		dup2 (fd[1], STDOUT_FILENO);
		system(argv[1]);
	}
	else {
		perror("Creation de processus");
		exit(2);
	}


	exit(0);
}
