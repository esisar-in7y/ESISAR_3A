#include <stdio.h>
#include <unistd.h>
#include <sys/wait.h>
#include <pwd.h>
#include <grp.h>

#define EXIT_SUCCESS 0
#define EXIT_FAILURE 1

int main(int argc, char *argv[])
{
	uid_t euid,uid;
	gid_t gid,egid;

	uid = getuid();
	euid = geteuid();
	gid = getgid();
	egid = getegid();
	
	struct passwd * uidname;
	uidname = getpwuid(uid);

	struct group * gidname;
	gidname = getgrgid(gid);

	printf("Reel:      %s(UID=%04d), %s(GID=%04d)\n",uidname->pw_name,uid,gidname->gr_name,gid); 

	gidname = getgrgid(egid);
	
	uidname = getpwuid(euid);

	printf("Effective: %s(UID=%04d), %s(GID=%04d)\n",uidname->pw_name,euid,gidname->gr_name,egid);

	return 0;    
}                     
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
                      
